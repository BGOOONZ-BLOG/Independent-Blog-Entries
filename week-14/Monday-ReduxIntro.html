<h1 id="notes"><strong>Notes</strong></h1>
<h2 id="redux-explained"><strong>Redux Explained</strong></h2>
<ul>
<li><p>JS Framework for managing the frontend state of a web application.</p>
<ul>
<li>Gives us ability to store information in an organized manner in a web app and quickly retrieve that information from anywhere in the app.</li>
</ul></li>
<li><strong><code>Redux</code></strong>
<ul>
<li>Client Side Data Management</li>
<li>Controls “Frontend State”</li>
<li>NOT Your Database</li>
<li>NOT Component State</li>
<li>Just used for managing Data</li>
</ul></li>
</ul>
<figure>
<img src="https://i.gyazo.com/60842c925c90bf2c1d310360ea7ab5b0.png" alt="pic" /><figcaption>pic</figcaption>
</figure>
<ul>
<li><p>Visual of how an app without React manages it’s data.</p>
<ul>
<li>A lot of prop threading happening.</li>
</ul></li>
<li><p>Data stored in a sep. location - <code>global data</code>.</p></li>
</ul>
<p><strong>The Anatomy of Redux</strong></p>
<ul>
<li><strong><code>Store</code></strong>
<ul>
<li>Holds the Frontend State</li>
<li>Provides an API for the Frontend State</li>
</ul></li>
<li><strong><code>Action</code></strong>
<ul>
<li>POJOs</li>
<li>Outline Changes to Frontend State</li>
</ul></li>
<li><strong><code>Reducers</code></strong>
<ul>
<li>Functions</li>
<li>Make Changes to Frontend State</li>
</ul></li>
</ul>
<p><strong>Where did Redux come from?</strong></p>
<ul>
<li>There are three central philosophies of Redux:
<ol type="1">
<li><code>A Single Source of Truth</code> : state is stored in a POJO</li>
<li><code>State is Read Only</code> : State is immutable, modified by dispatching actions.</li>
<li><code>Changes are Made with Pure Functions</code> : Reducers that receive the actions and return updated state are pure functions of the old state and action.</li>
</ol></li>
</ul>
<p><strong>When is it appropriate to use Redux?</strong></p>
<ul>
<li><p>When doing a project with simpler global state requirements, it may be better to choose React’s Context API over Redux.</p></li>
<li><p>Redux offers more flexibility and support for middleware along with richer developer tools.</p></li>
</ul>
<p><strong>Vocabulary</strong></p>
<ul>
<li><p><strong><code>State</code></strong></p>
<ul>
<li><em>Redux is a State Manager</em></li>
<li>State is all the information stored by that program at a particular point in time.</li>
<li>Redux’s main job is to store the state and make it directly available to your entire app.</li>
</ul></li>
<li><p><strong><code>Store</code></strong></p>
<ul>
<li><em>Redux stores state in a single store</em>.</li>
<li>Redux store is a single JS object with a couple of methods (not a class!)
<ul>
<li>Methods include: <code>getState</code>, <code>dispatch(action)</code>, and <code>subscribe(listener)</code></li>
</ul></li>
</ul></li>
<li><p><strong><code>Actions</code></strong></p>
<ul>
<li><em>Redux store is updated by dispatching actions</em></li>
<li>Action is just a POJO that includes a mandatory <code>type</code> property.</li>
<li>Contain info to update the store.</li>
<li>We dispatch actions in response to User actions or AJAX requests.</li>
</ul></li>
<li><p><strong><code>Pure Functions</code></strong></p>
<ul>
<li><em>Redux Reducers are Pure Functions</em></li>
<li>Functions are pure when their behavior depends only on it’s arguments as has no side effects.</li>
<li>Simply takes in an argument and outputs a value.</li>
</ul></li>
<li><p><strong><code>Reducer</code></strong></p>
<ul>
<li><em>Redux handles actions using reducers</em></li>
<li>A function that is called each time an action is dispatched.</li>
<li>Takes in an <code>action</code> and <code>current state</code></li>
<li>Required to be pure functions so their behavior is predictable.</li>
</ul></li>
<li><p><strong><code>Middleware</code></strong></p>
<ul>
<li><em>Customize response to dispatch actions by using Middleware</em></li>
<li>Middleware is an optional component of Redus that allows custom responses to dispatched actions.</li>
<li>Most common use is to dispatch async requests to a server.</li>
</ul></li>
<li><p><strong><code>Time Traveling Dev Tools</code></strong></p>
<ul>
<li><em>Redux can time travel wow</em></li>
<li>Time travel refers to Redux’s ability to revert to a previous state because reducers are all pure functions.</li>
</ul></li>
<li><strong><code>Thunks</code></strong>
<ul>
<li><em>Convenient format for taking async actions in Redux</em></li>
<li>General concept in CS referring to a function who’s primary purpose is to call another function.</li>
<li>Most commonly used to make async API requests.</li>
</ul></li>
</ul>
<hr />
<h2 id="flux-and-redux"><strong>Flux and Redux</strong></h2>
<p><strong>What is Flux?</strong></p>
<ul>
<li>Front-end application architecutre.</li>
<li>A pattern in which to structure an application.</li>
<li><p>Unidirectional Data Flow - offers more predictability. <img src="https://s3.amazonaws.com/lecture-assets/redux-flux.png" alt="flux" /></p></li>
<li><p><code>Actions</code> : Begins the data flow of data, simple object that contains a type; type indicates the type of change to be performed.</p></li>
<li><p><code>Dispatcher</code> : Mechanism for distributing actions to the store.</p></li>
<li><p><code>Store</code> : The entire state of the application, responsible for updating the state of your app.</p></li>
<li><p><code>View</code> : Unit of code that’s responsible for rendering the user interface. Used to re-render the application when actions and changes occur.</p></li>
</ul>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/fullstack/react/assets/flux-loop.png" alt="graph" /><figcaption>graph</figcaption>
</figure>
<p><strong>Redux</strong></p>
<figure>
<img src="https://assets.aaonline.io/fullstack/react/assets/redux.gif" alt="rdx" /><figcaption>rdx</figcaption>
</figure>
<ul>
<li>Library that facilitates the implementation of Flux.</li>
<li>Redux Three Principles
<ul>
<li><code>Single Source of Truth</code></li>
<li><code>State is Read-Only</code></li>
<li><code>Only Pure Functions Change State</code></li>
</ul></li>
</ul>
<hr />
<h2 id="store"><strong>Store</strong></h2>
<ul>
<li>Simply an object that holds the application state wrapped in an API.</li>
<li><strong><code>Three methods</code></strong>:
<ul>
<li><strong><code>getState()</code></strong> : Returns the store’s current state.</li>
<li><strong><code>dispatch(action)</code></strong> : Passes an action into the store’s reducer to tell it what info to update.</li>
<li><strong><code>subscribe(callback)</code></strong> : Registers a callback to be triggered whenever the store updates.</li>
</ul></li>
</ul>
<p><strong>Updating the Store</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">store</span>.<span class="at">dispatch</span>(action)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">// Add Orange Action</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">const</span> addOrange <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="dt">fruit</span><span class="op">:</span> <span class="st">&quot;orange&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">// Reducer for Orange Action</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="kw">const</span> fruitReducer <span class="op">=</span> (state <span class="op">=</span> []<span class="op">,</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="cf">case</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb1-13" title="13">      <span class="cf">return</span> [...<span class="at">state</span><span class="op">,</span> <span class="va">action</span>.<span class="at">fruit</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb1-15" title="15">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-18" title="18"></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co">// Run the Dispatch</span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span> <span class="co">// []</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span> <span class="co">// [ &#39;orange&#39; ]</span></a></code></pre></div>
<p><strong>Subscribing to the store</strong></p>
<ul>
<li>Whenever a store process a dispatch(), it triggers all its subscribers.</li>
<li><strong><code>Subscribers</code></strong> : callbacks that can be added to the store via subscribe().</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> display <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">const</span> unsubscribeDisplay <span class="op">=</span> <span class="va">store</span>.<span class="at">subscribe</span>(display)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span> <span class="co">// [ &#39;orange&#39;, &#39;orange&#39; ]</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">// display will no longer be invoked after store.dispatch()</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="at">unsubscribeDisplay</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-11" title="11"></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span> <span class="co">// no output</span></a></code></pre></div>
<p><strong>Reviewing a simple example</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// app.js</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">const</span> <span class="op">{</span> createStore <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;redux&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">// Define the store&#39;s reducer.</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="kw">const</span> fruitReducer <span class="op">=</span> (state <span class="op">=</span> []<span class="op">,</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="cf">case</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-9" title="9">      <span class="cf">return</span> [...<span class="at">state</span><span class="op">,</span> <span class="va">action</span>.<span class="at">fruit</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-11" title="11">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-14" title="14"></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">// Create the store.</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="kw">const</span> store <span class="op">=</span> <span class="at">createStore</span>(fruitReducer)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-17" title="17"></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">// Define an &#39;ADD_FRUIT&#39; action for adding an orange to the store.</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="kw">const</span> addOrange <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-20" title="20">  <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-21" title="21">  <span class="dt">fruit</span><span class="op">:</span> <span class="st">&quot;orange&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-23" title="23"></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="co">// Log to the console the store&#39;s state before and after</span></a>
<a class="sourceLine" id="cb3-25" title="25"><span class="co">// dispatching the &#39;ADD_FRUIT&#39; action.</span></a>
<a class="sourceLine" id="cb3-26" title="26"><span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span> <span class="co">// []</span></a>
<a class="sourceLine" id="cb3-27" title="27"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-28" title="28"><span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span> <span class="co">// [ &#39;orange&#39; ]</span></a>
<a class="sourceLine" id="cb3-29" title="29"></a>
<a class="sourceLine" id="cb3-30" title="30"><span class="co">// Define and register a callback to listen for store updates</span></a>
<a class="sourceLine" id="cb3-31" title="31"><span class="co">// and console log the store&#39;s state.</span></a>
<a class="sourceLine" id="cb3-32" title="32"><span class="kw">const</span> display <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-33" title="33">  <span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb3-34" title="34"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-35" title="35"><span class="kw">const</span> unsubscribeDisplay <span class="op">=</span> <span class="va">store</span>.<span class="at">subscribe</span>(display)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-36" title="36"></a>
<a class="sourceLine" id="cb3-37" title="37"><span class="co">// Dispatch the &#39;ADD_FRUIT&#39; action. This time the `display` callback</span></a>
<a class="sourceLine" id="cb3-38" title="38"><span class="co">// will be called by the store when its state is updated.</span></a>
<a class="sourceLine" id="cb3-39" title="39"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span> <span class="co">// [ &#39;orange&#39;, &#39;orange&#39; ]</span></a>
<a class="sourceLine" id="cb3-40" title="40"></a>
<a class="sourceLine" id="cb3-41" title="41"><span class="co">// Unsubscribe the `display` callback to stop listening for store updates.</span></a>
<a class="sourceLine" id="cb3-42" title="42"><span class="at">unsubscribeDisplay</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-43" title="43"></a>
<a class="sourceLine" id="cb3-44" title="44"><span class="co">// Dispatch the &#39;ADD_FRUIT&#39; action one more time</span></a>
<a class="sourceLine" id="cb3-45" title="45"><span class="co">// to confirm that the `display` method won&#39;t be called</span></a>
<a class="sourceLine" id="cb3-46" title="46"><span class="co">// when the store state is updated.</span></a>
<a class="sourceLine" id="cb3-47" title="47"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span> <span class="co">// no output</span></a></code></pre></div>
<h2 id="reducers"><strong>Reducers</strong></h2>
<ul>
<li><p>Reducer function receives the current <code>state</code> and <code>action</code>, updates the state appropriately based on the <code>action.type</code> and returns the following state.</p></li>
<li><p>You can bundles different action types and ensuing logic by using a switch/case statement.</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> fruitReducer <span class="op">=</span> (state <span class="op">=</span> []<span class="op">,</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="cf">case</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb4-4" title="4">      <span class="cf">return</span> [...<span class="at">state</span><span class="op">,</span> <span class="va">action</span>.<span class="at">fruit</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="cf">case</span> <span class="st">&quot;ADD_FRUITS&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb4-6" title="6">      <span class="cf">return</span> [...<span class="at">state</span><span class="op">,</span> ...<span class="va">action</span>.<span class="at">fruits</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7">    <span class="cf">case</span> <span class="st">&quot;SELL_FRUIT&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb4-8" title="8">      <span class="kw">const</span> index <span class="op">=</span> <span class="va">state</span>.<span class="at">indexOf</span>(<span class="va">action</span>.<span class="at">fruit</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9">      <span class="cf">if</span> (index <span class="op">!==</span> <span class="dv">-1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-10" title="10">        <span class="co">// remove first instance of action.fruit</span></a>
<a class="sourceLine" id="cb4-11" title="11">        <span class="cf">return</span> [...<span class="va">state</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,</span> index)<span class="op">,</span> ...<span class="va">state</span>.<span class="at">slice</span>(index <span class="op">+</span> <span class="dv">1</span>)]<span class="op">;</span></a>
<a class="sourceLine" id="cb4-12" title="12">      <span class="op">}</span></a>
<a class="sourceLine" id="cb4-13" title="13">      <span class="cf">return</span> state<span class="op">;</span> <span class="co">// if action.fruit is not in state, return previous state</span></a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="cf">case</span> <span class="st">&quot;SELL_OUT&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb4-15" title="15">      <span class="cf">return</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb4-17" title="17">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb4-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="op">};</span></a></code></pre></div>
<p><strong>Reviewing how Array#slice works</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> fruits <span class="op">=</span> [<span class="st">&quot;apple&quot;</span><span class="op">,</span> <span class="st">&quot;apple&quot;</span><span class="op">,</span> <span class="st">&quot;orange&quot;</span><span class="op">,</span> <span class="st">&quot;banana&quot;</span><span class="op">,</span> <span class="st">&quot;watermelon&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">// The index of the &#39;orange&#39; element is 2.</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">const</span> index <span class="op">=</span> <span class="va">fruits</span>.<span class="at">indexOf</span>(<span class="st">&quot;orange&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5"></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">// `...fruits.slice(0, index)` returns the array [&#39;apple&#39;, &#39;apple&#39;]</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">// `...fruits.slice(index + 1)` returns the array [&#39;banana&#39;, &#39;watermelon&#39;]</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">// The spread syntax combines the two array slices into the array</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">// [&#39;apple&#39;, &#39;apple&#39;, &#39;banana&#39;, &#39;watermelon&#39;]</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="kw">const</span> newFruits <span class="op">=</span> [...<span class="va">fruits</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,</span> index)<span class="op">,</span> ...<span class="va">fruits</span>.<span class="at">slice</span>(index <span class="op">+</span> <span class="dv">1</span>)]<span class="op">;</span></a></code></pre></div>
<ul>
<li>Approach that can be used to remove an element without mutating the original array.</li>
</ul>
<p><strong>Avoiding state mutations</strong></p>
<ul>
<li><strong>Your reducer must always return a new object if the state changes.</strong></li>
</ul>
<p><strong>GOOD</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> goodReducer <span class="op">=</span> (state <span class="op">=</span> <span class="op">{</span> <span class="dt">count</span><span class="op">:</span> <span class="dv">0</span> <span class="op">},</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="cf">case</span> <span class="st">&quot;INCREMENT_COUNTER&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb6-4" title="4">      <span class="kw">const</span> nextState <span class="op">=</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> state)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-5" title="5">      <span class="va">nextState</span>.<span class="at">count</span><span class="op">++;</span></a>
<a class="sourceLine" id="cb6-6" title="6">      <span class="cf">return</span> nextState<span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb6-8" title="8">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="op">};</span></a></code></pre></div>
<p><strong>BAD</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">const</span> badReducer <span class="op">=</span> (state <span class="op">=</span> <span class="op">{</span> <span class="dt">count</span><span class="op">:</span> <span class="dv">0</span> <span class="op">},</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="cf">case</span> <span class="st">&quot;INCREMENT_COUNTER&quot;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb7-4" title="4">      <span class="va">state</span>.<span class="at">count</span><span class="op">++;</span></a>
<a class="sourceLine" id="cb7-5" title="5">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb7-7" title="7">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="op">};</span></a></code></pre></div>
<hr />
<h2 id="actions"><strong>Actions</strong></h2>
<ul>
<li>Actions are the only way to trigger changes to the store’s state.</li>
</ul>
<p><strong>Using action creators</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">const</span> addOrange <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="dt">fruit</span><span class="op">:</span> <span class="st">&quot;orange&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb8-5" title="5"></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="va">store</span>.<span class="at">dispatch</span>(addOrange)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span> <span class="co">// [ &#39;orange&#39; ]</span></a></code></pre></div>
<ul>
<li><p>fruit is the <code>payload key</code> and orange is the <code>state data</code></p></li>
<li><p><strong><code>Action Creators</code></strong> : Functions created from extrapolating the creation of an action object.</p></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> addFruit <span class="op">=</span> (fruit) <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-3" title="3">  fruit<span class="op">,</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<ul>
<li>Use parenthesis for implicit return value.</li>
<li>We can now add whatever fruit we’d like.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">addFruit</span>(<span class="st">&quot;apple&quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">addFruit</span>(<span class="st">&quot;strawberry&quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">addFruit</span>(<span class="st">&quot;lychee&quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="va">store</span>.<span class="at">getState</span>())<span class="op">;</span> <span class="co">// [ &#39;orange&#39;, &#39;apple&#39;, &#39;strawberry&#39;, &#39;lychee&#39; ]</span></a></code></pre></div>
<p><strong>Preventing typos in action type string literals</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">const</span> ADD_FRUIT <span class="op">=</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">const</span> ADD_FRUITS <span class="op">=</span> <span class="st">&quot;ADD_FRUITS&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">const</span> SELL_FRUIT <span class="op">=</span> <span class="st">&quot;SELL_FRUIT&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="kw">const</span> SELL_OUT <span class="op">=</span> <span class="st">&quot;SELL_OUT&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5"></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="kw">const</span> addFruit <span class="op">=</span> (fruit) <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb11-7" title="7">  <span class="dt">type</span><span class="op">:</span> ADD_FRUIT<span class="op">,</span></a>
<a class="sourceLine" id="cb11-8" title="8">  fruit<span class="op">,</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-10" title="10"></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="kw">const</span> addFruits <span class="op">=</span> (fruits) <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb11-12" title="12">  <span class="dt">type</span><span class="op">:</span> ADD_FRUITS<span class="op">,</span></a>
<a class="sourceLine" id="cb11-13" title="13">  fruits<span class="op">,</span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-15" title="15"></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="kw">const</span> sellFruit <span class="op">=</span> (fruit) <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb11-17" title="17">  <span class="dt">type</span><span class="op">:</span> SELL_FRUIT<span class="op">,</span></a>
<a class="sourceLine" id="cb11-18" title="18">  fruit<span class="op">,</span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-20" title="20"></a>
<a class="sourceLine" id="cb11-21" title="21"><span class="kw">const</span> sellOut <span class="op">=</span> () <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb11-22" title="22">  <span class="dt">type</span><span class="op">:</span> SELL_OUT<span class="op">,</span></a>
<a class="sourceLine" id="cb11-23" title="23"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<ul>
<li>Using constant variables helps reduce simple typos in a reducer’s case clauses.</li>
</ul>
<hr />
<h2 id="debugging-arrow-functions"><strong>Debugging Arrow Functions</strong></h2>
<ul>
<li>It is important to learn how to use debugger statements with arrow functions to effectively debug Redux cycle.</li>
</ul>
<p><strong>Understanding the limitations of implicit return values</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> addFruit <span class="op">=</span> (fruit) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-4" title="4">    fruit<span class="op">,</span></a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="op">};</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb12-7" title="7"></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="kw">const</span> addFruit <span class="op">=</span> (fruit) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-9" title="9">  <span class="cf">debugger</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-10" title="10">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-11" title="11">    <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;ADD_FRUIT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-12" title="12">    fruit<span class="op">,</span></a>
<a class="sourceLine" id="cb12-13" title="13">  <span class="op">};</span></a>
<a class="sourceLine" id="cb12-14" title="14"><span class="op">};</span></a></code></pre></div>
<ul>
<li>You must use explicit return statement arrow function to use a debugger.</li>
</ul>
<hr />
