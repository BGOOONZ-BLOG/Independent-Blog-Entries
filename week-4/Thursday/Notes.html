<h1 id="notes"><strong>Notes</strong></h1>
<h2 id="cookies-and-web-storage"><strong>Cookies and Web Storage</strong></h2>
<p><strong>Cookies</strong></p>
<p><strong>What is a cookie?</strong></p>
<ul>
<li>A small filed stored on a user’s computer that holds a bite-sized amount of data, under 4KB. The are included with HTTP requests.</li>
</ul>
<p><strong>What are cookies used for?</strong></p>
<ul>
<li>Store stateful information about a user (personal info, browser habits, history, form input information.)</li>
<li>Storing a <strong>session cookie</strong> on user login/validation. (These are lost once the browser window is closed)</li>
<li><strong>Persistent Cookies</strong> : can be used to ensure a cookie survives past a specified expiration date.</li>
</ul>
<p><strong>How to create a cooke in Javascript</strong> <code>document.cookie = aNewCookieHere;</code></p>
<ul>
<li>Syntax for creating a new cookie.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> firstCookie <span class="op">=</span> <span class="st">&quot;favoriteCat=million&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> firstCookie<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="va">document</span>.<span class="at">cookie</span><span class="op">;</span> <span class="co">// Returns &quot;favoriteCat=million&quot;</span></a></code></pre></div>
<ul>
<li>We can also delete a cookie by setting an expiration date like so.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> <span class="st">&quot;favoriteCat=; expires = Thu, 01 Jan 1970 00:00:00 GMT&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="va">document</span>.<span class="at">cookie</span><span class="op">;</span> <span class="co">// &quot;&quot;</span></a></code></pre></div>
<ul>
<li>You can also manually delete cookies by going into your Dev Tools and right clicking on a cookie.</li>
</ul>
<p><strong>Web Storage API</strong></p>
<ul>
<li><strong>Web Storage API</strong> : Provides mechanisms by which browsers can store key-value pairs, in a much more intuitive fashion than using cookies.</li>
<li>Local Storage &amp; Session Storage are included.</li>
<li><strong>Local Storage</strong> :
<ul>
<li>Stores data with no expiration date</li>
<li>Deleted when clearing the browser cache</li>
<li>Has the maxiumum storage limit in the browser</li>
</ul></li>
<li><strong>Session Storage</strong> :
<ul>
<li>Stores data only for a single session</li>
<li>Stores until a browser window or tab is closed</li>
<li>Never transfers data to the server</li>
<li>Has a storage limit of 5MB (cookies are 4KB)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">let</span> field <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;field&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="cf">if</span> (<span class="va">sessionStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;autosave&quot;</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="va">field</span>.<span class="at">value</span> <span class="op">=</span> <span class="va">sessionStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;autosave&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="va">field</span>.<span class="at">addEventListener</span>(<span class="st">&quot;change&quot;</span><span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb3-8" title="8">  <span class="va">sessionStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;autosave&quot;</span><span class="op">,</span> <span class="va">field</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<ul>
<li>Both methods use getItem() and setItem()</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;bgcolor&quot;</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="at">populateStorage</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">setStyles</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw">const</span> populateStorage <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;bgcolor&quot;</span><span class="op">,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;bgcolor&quot;</span>).<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;font&quot;</span><span class="op">,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;font&quot;</span>).<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;image&quot;</span><span class="op">,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;image&quot;</span>).<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="kw">const</span> setStyles <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-13" title="13">  <span class="kw">var</span> currentColor <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;bgcolor&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-14" title="14">  <span class="kw">var</span> currentFont <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;font&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="kw">var</span> currentImage <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;image&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-16" title="16"></a>
<a class="sourceLine" id="cb4-17" title="17">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;bgcolor&quot;</span>).<span class="at">value</span> <span class="op">=</span> currentColor<span class="op">;</span></a>
<a class="sourceLine" id="cb4-18" title="18">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;font&quot;</span>).<span class="at">value</span> <span class="op">=</span> currentFont<span class="op">;</span></a>
<a class="sourceLine" id="cb4-19" title="19">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;image&quot;</span>).<span class="at">value</span> <span class="op">=</span> currentImage<span class="op">;</span></a>
<a class="sourceLine" id="cb4-20" title="20"></a>
<a class="sourceLine" id="cb4-21" title="21">  <span class="va">htmlElem</span>.<span class="va">style</span>.<span class="at">backgroundColor</span> <span class="op">=</span> <span class="st">&quot;#&quot;</span> <span class="op">+</span> currentColor<span class="op">;</span></a>
<a class="sourceLine" id="cb4-22" title="22">  <span class="va">pElem</span>.<span class="va">style</span>.<span class="at">fontFamily</span> <span class="op">=</span> currentFont<span class="op">;</span></a>
<a class="sourceLine" id="cb4-23" title="23">  <span class="va">imgElem</span>.<span class="at">setAttribute</span>(<span class="st">&quot;src&quot;</span><span class="op">,</span> currentImage)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-24" title="24"><span class="op">};</span></a></code></pre></div>
<ol type="1">
<li>Our conditional checks to see if our local storage contains a data item called <code>bgcolor</code></li>
<li>If it does contain the data:
<ul>
<li>We run setStyles() to update the page styles.</li>
</ul></li>
<li>If it does not contain the data:
<ul>
<li>We first run populateStorage() to set the items, and then run setStyles() to update them.</li>
</ul></li>
</ol>
<p><strong>When would we use the Web Storage API?</strong></p>
<ul>
<li>Ideal for storing multiple key-value pairs.</li>
<li>This Data can only be saved as strings.</li>
<li>Some common use cases are:
<ul>
<li>Storing information about a shopping cart.</li>
<li>Saving input data on forms.</li>
<li>Tracking user preferences &amp; buying habits.</li>
</ul></li>
<li>We can access our storage by going to the <strong>Application Tab</strong> on our dev tools.</li>
</ul>
<hr />
<h2 id="json"><strong>JSON</strong></h2>
<p><strong><code>JSON</code></strong> is an open-standard file format that “uses human-readable text to transmit objects consisting of key-value pairs and array data types”.</p>
<p><strong>JSON is a format!</strong></p>
<ul>
<li>Remember that JSON is simply a format for data - it’s just text!</li>
<li><em>JSON is just a string, it’s just text</em></li>
</ul>
<table>
<thead>
<tr class="header">
<th>Javascript Literal Value</th>
<th>JSON</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>true</td>
<td>“true”</td>
</tr>
<tr class="even">
<td>false</td>
<td>“false”</td>
</tr>
<tr class="odd">
<td>12.34</td>
<td>“12.34”</td>
</tr>
<tr class="even">
<td>null</td>
<td>“null”</td>
</tr>
</tbody>
</table>
<p><strong>String literals in JSON</strong></p>
<ul>
<li><strong>JSON always uses double quotes for strings.</strong></li>
<li><strong><code>Serialization</code></strong> : When we turn some data into string to be sent to another computer.</li>
<li><strong><code>Deserialization</code></strong> : When we take some text and turn it into data.</li>
</ul>
<p><strong>Using the Built-in JSON Object</strong></p>
<ul>
<li><strong>JSON.stringify(value)</strong> : truns the value passed into it into a string.</li>
<li><strong>JSON.parse(str)</strong> : turns a JSON-formatted string into a JS object.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> array <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="st">&#39;hello, &quot;world&quot;&#39;</span><span class="op">,</span> <span class="fl">3.14</span><span class="op">,</span> <span class="op">{</span> <span class="dt">id</span><span class="op">:</span> <span class="dv">17</span> <span class="op">}</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="va">JSON</span>.<span class="at">stringify</span>(array))<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">// prints [1, &quot;hello, \&quot;world\&quot;&quot;, 3.14, {&quot;id&quot;:17}]</span></a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> str <span class="op">=</span> <span class="st">&#39;[1,&quot;hello, </span><span class="sc">\\</span><span class="st">&quot;world</span><span class="sc">\\</span><span class="st">&quot;&quot;,3.14,{&quot;id&quot;:17}]&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="va">JSON</span>.<span class="at">parse</span>(str))<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">// prints an array with the following entries:</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">//   0: 1</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">//   1: &quot;hello, \&quot;world\&quot;&quot;</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">//   2: 3.14</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">//   3: { id: 17 }</span></a></code></pre></div>
<ul>
<li>You will almost never write raw JSON, most of the times you will just use JSON.stringify(), or call a data service that returns JSON formatted content.</li>
</ul>
<p><strong>Brain Teaser</strong> What will the following print?</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">const</span> a <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="va">console</span>.<span class="at">log</span>(a[<span class="dv">0</span>])<span class="op">;</span> <span class="co">// 1</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw">const</span> s <span class="op">=</span> <span class="va">JSON</span>.<span class="at">stringify</span>(a)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="va">console</span>.<span class="at">log</span>(s[<span class="dv">0</span>])<span class="op">;</span> <span class="co">// [</span></a>
<a class="sourceLine" id="cb7-6" title="6"></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">const</span> v <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(s)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="va">console</span>.<span class="at">log</span>(v[<span class="dv">0</span>])<span class="op">;</span> <span class="co">/// 1</span></a></code></pre></div>
<hr />
<h2 id="web-storage"><strong>Web Storage</strong></h2>
<ul>
<li>One Typical use for local storage is caching data fetched from a server onto the client side.</li>
</ul>
<p><strong>Storing Data in Local Storage</strong></p>
<ul>
<li>Web Storage exists in the window as object containing key-value pairs.</li>
</ul>
<p><strong>Reading Data in Local Storage</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;eatz&#39;</span><span class="op">,</span> <span class="st">&#39;I &lt;3 falafel&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;coffee&#39;</span><span class="op">,</span> <span class="st">&#39;black&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;doughnuts&#39;</span><span class="op">,</span> <span class="st">&#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;,</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">&quot;cream-filled&quot;</span>]<span class="st">&#39;);</span></a>
<a class="sourceLine" id="cb8-5" title="5"></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="kw">const</span> eatz <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;eatz&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="kw">const</span> coffee <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;coffee&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="kw">const</span> doughnuts <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;doughnuts&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" title="9"></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="va">console</span>.<span class="at">log</span>(eatz)<span class="op">;</span> <span class="co">// &#39;I &lt;3 falafel&#39;</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="va">console</span>.<span class="at">log</span>(coffee)<span class="op">;</span> <span class="co">// &#39;black&#39;</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="va">console</span>.<span class="at">log</span>(doughnuts)<span class="op">;</span> <span class="co">// &#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;, &quot;cream-filled&quot;]&#39;</span></a></code></pre></div>
<ul>
<li>Use setItem() to assign a key-value pair to local storage.</li>
<li>Use getItem() to fetch the value of a key, which is passed in as it’s argument.</li>
</ul>
<p><strong>JSON and Local Storage</strong></p>
<ul>
<li>We can construct a JS value or object from JSON by parsing it.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> doughnuts <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(<span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;doughnuts&quot;</span>))<span class="op">;</span></a></code></pre></div>
<p>–</p>
