<h1 id="notes"><strong>Notes</strong></h1>
<h2 id="using-select"><strong>Using Select</strong></h2>
<p><strong>What is a Query?</strong></p>
<ul>
<li><p><strong><code>Query</code></strong> : A question we’re asking a database, aiming to get a response back.</p></li>
<li><code>psql -U postgres</code>
<ul>
<li>Let’s us access the postgres server as the user ‘postgres’</li>
<li><code>-U</code> stands for ‘user’.</li>
<li><code>\q</code> is used to quit postgres at any time.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">create</span> <span class="kw">table</span> puppies (</a>
<a class="sourceLine" id="cb1-2" title="2">  name <span class="dt">VARCHAR</span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb1-3" title="3">  age_yrs <span class="dt">NUMERIC</span>(<span class="dv">2</span>,<span class="dv">1</span>),</a>
<a class="sourceLine" id="cb1-4" title="4">  breed <span class="dt">VARCHAR</span>(<span class="dv">100</span>),</a>
<a class="sourceLine" id="cb1-5" title="5">  weight_lbs <span class="dt">INT</span>,</a>
<a class="sourceLine" id="cb1-6" title="6">  microchipped <span class="dt">BOOLEAN</span></a>
<a class="sourceLine" id="cb1-7" title="7">);</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw">insert</span> <span class="kw">into</span> puppies</a>
<a class="sourceLine" id="cb1-10" title="10"><span class="kw">values</span></a>
<a class="sourceLine" id="cb1-11" title="11">(<span class="st">&#39;Cooper&#39;</span>, <span class="dv">1</span>, <span class="st">&#39;Miniature Schnauzer&#39;</span>, <span class="dv">18</span>, <span class="st">&#39;yes&#39;</span>);</a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="kw">insert</span> <span class="kw">into</span> puppies</a>
<a class="sourceLine" id="cb1-14" title="14"><span class="kw">values</span></a>
<a class="sourceLine" id="cb1-15" title="15">(<span class="st">&#39;Indie&#39;</span>, <span class="fl">0.5</span>, <span class="st">&#39;Yorkshire Terrier&#39;</span>, <span class="dv">13</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb1-16" title="16">(<span class="st">&#39;Kota&#39;</span>, <span class="fl">0.7</span>, <span class="st">&#39;Australian Shepherd&#39;</span>, <span class="dv">26</span>, <span class="st">&#39;no&#39;</span>),</a>
<a class="sourceLine" id="cb1-17" title="17">(<span class="st">&#39;Zoe&#39;</span>, <span class="fl">0.8</span>, <span class="st">&#39;Korean Jindo&#39;</span>, <span class="dv">32</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb1-18" title="18">(<span class="st">&#39;Charley&#39;</span>, <span class="fl">1.5</span>, <span class="st">&#39;Basset Hound&#39;</span>, <span class="dv">25</span>, <span class="st">&#39;no&#39;</span>),</a>
<a class="sourceLine" id="cb1-19" title="19">(<span class="st">&#39;Ladybird&#39;</span>, <span class="fl">0.6</span>, <span class="st">&#39;Labradoodle&#39;</span>, <span class="dv">20</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb1-20" title="20">(<span class="st">&#39;Callie&#39;</span>, <span class="fl">0.9</span>, <span class="st">&#39;Corgi&#39;</span>, <span class="dv">16</span>, <span class="st">&#39;no&#39;</span>),</a>
<a class="sourceLine" id="cb1-21" title="21">(<span class="st">&#39;Jaxson&#39;</span>, <span class="fl">0.4</span>, <span class="st">&#39;Beagle&#39;</span>, <span class="dv">19</span>, <span class="st">&#39;yes&#39;</span>),</a>
<a class="sourceLine" id="cb1-22" title="22">(<span class="st">&#39;Leinni&#39;</span>, <span class="dv">1</span>, <span class="st">&#39;Miniature Schnauzer&#39;</span>, <span class="dv">25</span>, <span class="st">&#39;yes&#39;</span> ),</a>
<a class="sourceLine" id="cb1-23" title="23">(<span class="st">&#39;Max&#39;</span>, <span class="fl">1.6</span>, <span class="st">&#39;German Shepherd&#39;</span>, <span class="dv">65</span>, <span class="st">&#39;no&#39;</span>);</a></code></pre></div>
<ul>
<li>SQL Data Types listed here:
<ul>
<li><strong><code>varchar(n)</code></strong> : variable length char, n represents the limit.</li>
<li><strong><code>numeric(p, s)</code></strong> : floating point number, with <em>p</em> digits and <em>s</em> number of places after the decimal point.</li>
<li><strong><code>int</code></strong> : 4 byte integer.</li>
<li><strong><code>boolean</code></strong> : regular boolean value.</li>
</ul></li>
<li><strong><code>SELECT Query</code></strong> : Query used to get results back from a table.
<ul>
<li>Syntax <code>SELECT [columns] FROM [table]</code>.</li>
<li>You can use <code>SELECT *</code> to get all rows back in a given table.</li>
<li><p>To select multiple columns you could use:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">SELECT</span> name</a>
<a class="sourceLine" id="cb2-2" title="2">    , age_yrs</a>
<a class="sourceLine" id="cb2-3" title="3">    , weight_lbs</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">FROM</span> puppies;</a></code></pre></div></li>
<li>It is recommended to perform queries with multi-line formatting because column selection can become very long.</li>
<li><p>Also if you format it like this you can easily comment out certain columns with double dash.</p></li>
</ul></li>
</ul>
<hr />
<h2 id="using-where"><strong>USING WHERE</strong></h2>
<p><strong>Using SELECT and WHERE</strong></p>
<ul>
<li>We can filter our information from our SELECT queries by using WHERE.</li>
</ul>
<p><strong>WHERE clause for a single value</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">SELECT</span> name, breed <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="kw">WHERE</span> breed <span class="op">=</span> <span class="st">&#39;Corgi&#39;</span>;</a></code></pre></div>
<ul>
<li>Note that the string must use single quotation marks because PostgreSQL will convert all names to lowercase unless DOUBLE quoted.</li>
</ul>
<p><strong>WHERE clause for a list of values</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">SELECT</span> name, breed <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="kw">WHERE</span> breed <span class="kw">IN</span> (<span class="st">&#39;Corgi&#39;</span>, <span class="st">&#39;Beagle&#39;</span>, <span class="st">&#39;Yorkshire Terrier&#39;</span>);</a></code></pre></div>
<ul>
<li>Use the structure WHERE [col] IN (‘val’, ‘val2’…)</li>
</ul>
<p><strong>WHERE clause for a range of values</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">SELECT</span> name, breed, age_yrs <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="kw">WHERE</span> age_yrs <span class="kw">BETWEEN</span> <span class="dv">0</span> <span class="kw">AND</span> <span class="fl">0.6</span>;</a></code></pre></div>
<p><strong>ORDER BY</strong></p>
<ul>
<li>You can use <code>Order By</code> to get back your data in a specified way.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">SELECT</span> name, breed</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">ORDER</span> <span class="kw">BY</span> age_yrs <span class="kw">DESC</span>;</a></code></pre></div>
<p><strong>LIMIT and OFFSET</strong></p>
<ul>
<li>You can limit the amount of rows returned by using the LIMIT keyword.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">SELECT</span> name, breed</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">ORDER</span> <span class="kw">BY</span> age_yrs</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw">LIMIT</span> <span class="dv">100</span> OFFSET <span class="dv">100</span>;</a></code></pre></div>
<ul>
<li>You can on the OFFSET keyword after LIMIT to retrieve the next 100 after the LIMIT clause.</li>
</ul>
<p><strong>SQL operators</strong> <img src="https://i.gyazo.com/518d4c03adb94c682e849531fadd9b64.png" alt="ops" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">SELECT</span> name, breed <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="kw">WHERE</span> breed <span class="kw">NOT</span> <span class="kw">IN</span> (<span class="st">&#39;Miniature Schnauzer&#39;</span>, <span class="st">&#39;Basset Hound&#39;</span>, <span class="st">&#39;Labradoodle&#39;</span>)</a>
<a class="sourceLine" id="cb8-3" title="3">    <span class="kw">AND</span> breed <span class="kw">NOT</span> <span class="kw">LIKE</span> <span class="st">&#39;%Shepherd&#39;</span>;</a></code></pre></div>
<ul>
<li>Example of a query with a WHERE clause using several logical operators.</li>
<li>The % is a wildcard. <img src="https://i.gyazo.com/faa67eadb851f326ef8847162dccb9c6.png" alt="math" /></li>
<li>You can also use mathematical operators in WHERE clauses.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">SELECT</span> name, breed, age_yrs <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="kw">WHERE</span> age_yrs <span class="op">*</span> <span class="dv">10</span> <span class="op">=</span> <span class="dv">6</span>;</a></code></pre></div>
<figure>
<img src="https://i.gyazo.com/46ce9306ea72228a79f9c27a9666c3e9.png" alt="comp" /><figcaption>comp</figcaption>
</figure>
<ul>
<li>You can also use comparison operators.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">SELECT</span> name, breed, weight_lbs <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="kw">WHERE</span> weight_lbs <span class="op">&gt;</span> <span class="dv">50</span>;</a></code></pre></div>
<hr />
<h2 id="using-insert"><strong>Using INSERT</strong></h2>
<ul>
<li>Used to add data into a table.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">INSERT</span> <span class="kw">INTO</span> table_name</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">VALUES</span></a>
<a class="sourceLine" id="cb11-3" title="3">  (column1_value, colum2_value, column3_value);</a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="kw">INSERT</span> <span class="kw">INTO</span> friends (first_name, last_name)</a>
<a class="sourceLine" id="cb11-6" title="6"><span class="kw">VALUES</span></a>
<a class="sourceLine" id="cb11-7" title="7">(<span class="st">&#39;Rose&#39;</span>, <span class="st">&#39;Tyler&#39;</span>),</a>
<a class="sourceLine" id="cb11-8" title="8">(<span class="st">&#39;Martha&#39;</span>, <span class="st">&#39;Jones&#39;</span>),</a>
<a class="sourceLine" id="cb11-9" title="9">(<span class="st">&#39;Donna&#39;</span>, <span class="st">&#39;Noble&#39;</span>),</a>
<a class="sourceLine" id="cb11-10" title="10">(<span class="st">&#39;River&#39;</span>, <span class="st">&#39;Song&#39;</span>);</a></code></pre></div>
<ul>
<li>Note the use of single quotation marks for string values.</li>
<li>DEFAULT can be used in lieu of our SERIAL pseudo type.</li>
<li>You can do multiple insert by first specifying the column names and the adding in the data wrapped in parenthesis seperated by a comma.</li>
</ul>
<h2 id="using-inner-join"><strong>Using INNER JOIN</strong></h2>
<ul>
<li>Relationships are key in RD’s.</li>
<li>We create table associations through <em>foreign keys</em> and <em>primary keys</em>.</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> puppies</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">INNER</span> <span class="kw">JOIN</span> breeds <span class="kw">ON</span> (puppies.breed_id <span class="op">=</span> breeds.<span class="kw">id</span>);</a></code></pre></div>
<hr />
<h2 id="using-seed-files"><strong>Using Seed Files</strong></h2>
<p><strong>Writing And Running A Seed File In PSQL</strong></p>
<ul>
<li>Seeding is the act of populating a database with data.</li>
</ul>
<p><strong>Creating a seed file</strong></p>
<ul>
<li>Start by making a seed file in your IDE with <code>.sql</code> file type.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">CREATE</span> <span class="kw">TABLE</span> pies (</a>
<a class="sourceLine" id="cb13-2" title="2">  flavor <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</a>
<a class="sourceLine" id="cb13-3" title="3">  price <span class="dt">FLOAT</span></a>
<a class="sourceLine" id="cb13-4" title="4">);</a>
<a class="sourceLine" id="cb13-5" title="5"></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Apple&#39;</span>, <span class="fl">19.95</span>);</a>
<a class="sourceLine" id="cb13-7" title="7"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Caramel Apple Crumble&#39;</span>, <span class="fl">20.53</span>);</a>
<a class="sourceLine" id="cb13-8" title="8"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Blueberry&#39;</span>, <span class="fl">19.31</span>);</a>
<a class="sourceLine" id="cb13-9" title="9"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Blackberry&#39;</span>, <span class="fl">22.86</span>);</a>
<a class="sourceLine" id="cb13-10" title="10"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Cherry&#39;</span>, <span class="fl">22.32</span>);</a>
<a class="sourceLine" id="cb13-11" title="11"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Peach&#39;</span>, <span class="fl">20.45</span>);</a>
<a class="sourceLine" id="cb13-12" title="12"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Raspberry&#39;</span>, <span class="fl">20.99</span>);</a>
<a class="sourceLine" id="cb13-13" title="13"><span class="kw">INSERT</span> <span class="kw">INTO</span> pies <span class="kw">VALUES</span>(<span class="st">&#39;Mixed Berry&#39;</span>, <span class="fl">21.45</span>);</a></code></pre></div>
<p><strong>Populating a database via &lt; (“left caret”)</strong></p>
<ul>
<li>Syntax : <code>psql -d [database] &lt; [path_to_file/file.sql]</code> <code>psql -d bakery &lt; path_to_my_file/seed-data.sql</code></li>
</ul>
<p><strong>Populating the database via | (“pipe”)</strong></p>
<ul>
<li>Syntax : <code>cat [path_to_file/file.sql] | psql -d [database]</code> <code>cat path_to_my_file/seed-data.sql | psql -d postgres</code></li>
</ul>
<hr />
